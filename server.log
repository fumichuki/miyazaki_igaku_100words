nohup: ignoring input
2026-01-31 01:45:54 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-31 01:45:54 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-31 01:45:54 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
 * Serving Flask app 'app'
 * Debug mode: on
2026-01-31 01:45:54 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8001
 * Running on http://10.0.10.26:8001
2026-01-31 01:45:54 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2026-01-31 01:45:54 - werkzeug - INFO -  * Restarting with stat
2026-01-31 01:45:55 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-31 01:45:55 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-31 01:45:55 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
2026-01-31 01:45:55 - werkzeug - WARNING -  * Debugger is active!
2026-01-31 01:45:55 - werkzeug - INFO -  * Debugger PIN: 519-604-230
2026-01-31 01:45:56 - llm_service - INFO - Step 1 - Punctuation normalized (first 100 chars): according to a recent survey
in particular during the morning...
2026-01-31 01:45:56 - llm_service - INFO - Step 2 - User input normalized (first 100 chars): According to a recent survey.
In particular during the morning....
2026-01-31 01:45:56 - llm_service - INFO - Multi-sentence mode: preserving newlines in user input
2026-01-31 01:45:56 - llm_service - INFO - Question text for correction: æœ€è¿‘ã®èª¿æŸ»ã«ã‚ˆã‚‹ã¨ã€æ—¥æœ¬ã®éƒ½å¸‚éƒ¨ã§ã¯äº¤é€šæ¸‹æ»ãŒæ‚ªåŒ–ã—ã¦ã„ã‚‹ã€‚
ç‰¹ã«æœã®é€šå‹¤ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒ¯ãƒ¼æ™‚ã«ã¯ã€ä¸»è¦å¹¹ç·šé“è·¯ã§ã®è»Šä¸¡ã®æµã‚ŒãŒå¤§å¹…ã«ä½ä¸‹ã™ã‚‹ã€‚...
2026-01-31 01:45:56 - llm_service - INFO - Required points determined from Japanese text: 2 sentences
2026-01-31 01:45:56 - llm_service - INFO - Required points for this correction: 2
2026-01-31 01:45:56 - llm_service - INFO - Word count: 10
2026-01-31 01:45:56 - llm_service - INFO - Correction attempt 1/3
2026-01-31 01:46:19 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-31 01:46:19 - llm_service - INFO - OpenAI API response (attempt 1): 
{
  "original": "According to a recent survey. In particular during the morning.",
  "corrected": "According to a recent survey, traffic congestion in urban areas of Japan is worsening.\n\nIn particu...
2026-01-31 01:46:19 - llm_service - INFO - Full LLM response for correction (length: 3191 chars)
2026-01-31 01:46:19 - llm_service - INFO - Response first 500 chars: 
{
  "original": "According to a recent survey. In particular during the morning.",
  "corrected": "According to a recent survey, traffic congestion in urban areas of Japan is worsening.\n\nIn particular, during the morning rush hour, the flow of vehicles on major roads significantly decreases.",
  "points": [
    {
      "before": "ã€å…¨ä½“è©•ä¾¡ã€‘",
      "after": "æå‡ºã•ã‚ŒãŸè‹±æ–‡ã¯ã€æƒ…å ±ãŒä¸å®Œå…¨ã§ã‚ã‚Šã€æ—¥æœ¬èªåŸæ–‡ã®å†…å®¹ã‚’æ­£ç¢ºã«åæ˜ ã—ã¦ã„ã¾ã›ã‚“ã€‚ç‰¹ã«ã€äº¤é€šæ¸‹æ»ãŒæ‚ªåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã‚„ã€æœã®é€šå‹¤ãƒ©ãƒƒã‚·ãƒ¥ã«ã¤ã„ã¦ã®æƒ…å ±ãŒæ¬ è½ã—ã¦ã„ã¾ã™ã€‚",
      "reason": "è§£èª¬: æå‡ºã•ã‚ŒãŸè‹±æ–‡ã¯2æ–‡ã§ã€æ—¥æœ¬èªåŸæ–‡ã®å†…å®¹ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚æ–‡æ³•çš„ã«
2026-01-31 01:46:19 - llm_service - INFO - Response last 500 chars: s are increasing. (å ±å‘Šæ›¸ã«åŸºã¥ãã¨ã€å£²ä¸ŠãŒå¢—ãˆã¦ã„ã¾ã™ã€‚)\n\n2æ–‡ç›®: In particular, during the morning rush hour, the flow of vehicles on major roads significantly decreases.\nï¼ˆç‰¹ã«æœã®é€šå‹¤ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒ¯ãƒ¼æ™‚ã«ã¯ã€ä¸»è¦å¹¹ç·šé“è·¯ã§ã®è»Šä¸¡ã®æµã‚ŒãŒå¤§å¹…ã«ä½ä¸‹ã—ã¾ã™ã€‚ï¼‰\nflowï¼ˆåè©ï¼šæµã‚Œï¼šç‰©ã‚„äººãŒç§»å‹•ã™ã‚‹æ§˜å­ï¼‰ï¼decreaseï¼ˆå‹•è©ï¼šæ¸›å°‘ã™ã‚‹ï¼šé‡ã‚„æ•°ãŒå°‘ãªããªã‚‹ï¼‰ã§ã€flowã¯å‹•ãã‚„æµã‚Œã€decreaseã¯æ•°ã‚„é‡ã®æ¸›å°‘ã‚’ç¤ºã—ã¾ã™ã€‚\nã€å‚è€ƒã€‘In particular, A happens during B / Specifically, A occurs at B\nä¾‹ï¼šIn particular, productivity peaks in the morning. (ç‰¹ã«ã€åˆå‰ä¸­ã«ç”Ÿç”£æ€§ãŒãƒ”ãƒ¼ã‚¯ã«é”ã—ã¾ã™ã€‚) / Specifically, errors occur during testing. (å…·ä½“çš„ã«ã¯ã€ãƒ†ã‚¹ãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚)"
}
2026-01-31 01:46:19 - llm_service - INFO - Full response saved to: /workspaces/miyazaki_igaku_100words/debug/llm_response_1.json
2026-01-31 01:46:19 - llm_service - WARNING - Skipping point 1: before 'ã€å…¨ä½“è©•ä¾¡ã€‘' not found in student answer
2026-01-31 01:46:19 - llm_service - INFO - Before normalization: 2 points
2026-01-31 01:46:19 - points_normalizer - INFO - Starting points normalization: 2 points
2026-01-31 01:46:19 - points_normalizer - INFO - Student answer split into 2 sentences
2026-01-31 01:46:19 - points_normalizer - INFO - Original user input split into 2 sentences
2026-01-31 01:46:19 - points_normalizer - INFO - Processing point 1: before='According to a recent survey....', level='âŒæ–‡æ³•ãƒŸã‚¹'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 1: Normalized before='According to a recent survey....'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 1: Found in sentence 1: 'According to a recent survey....'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 1: Replaced fragment in sentence: 'According to a recent survey, traffic congestion i...'
2026-01-31 01:46:19 - points_normalizer - INFO - Level is âŒ, keeping after: 'According to a recent survey, traffic congestion i...'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 1: Original user input: 'according to a recent survey...'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 1: Normalized successfully (sentence_no=1)
2026-01-31 01:46:19 - points_normalizer - INFO - Processing point 2: before='In particular during the morning....', level='âŒæ–‡æ³•ãƒŸã‚¹'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 2: Normalized before='In particular during the morning....'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 2: Found in sentence 2: 'In particular during the morning....'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 2: Replaced fragment in sentence: 'In particular, during the morning rush hour, the f...'
2026-01-31 01:46:19 - points_normalizer - INFO - Level is âŒ, keeping after: 'In particular, during the morning rush hour, the f...'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 2: Original user input: 'in particular during the morning...'
2026-01-31 01:46:19 - points_normalizer - INFO - Point 2: Normalized successfully (sentence_no=2)
2026-01-31 01:46:19 - points_normalizer - INFO - Points normalization complete: 2 points
2026-01-31 01:46:19 - llm_service - INFO - After normalization: 2 points
2026-01-31 01:46:19 - llm_service - INFO - Points check: current=2, non-evaluation=2, required=2
2026-01-31 01:46:19 - llm_service - INFO - âœ… Correction successful: 2 points
2026-01-31 01:46:19 - database - INFO - Submission saved: s_20260131_f58113b8 (mode: general, no scoring)
2026-01-31 01:46:19 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 01:46:19] "POST /api/correct-multi HTTP/1.1" 200 -
