nohup: ignoring input
2026-01-30 23:21:58 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-30 23:21:58 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-30 23:21:58 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
 * Serving Flask app 'app'
 * Debug mode: on
2026-01-30 23:21:58 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8001
 * Running on http://10.0.10.26:8001
2026-01-30 23:21:58 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2026-01-30 23:21:58 - werkzeug - INFO -  * Restarting with stat
2026-01-30 23:21:59 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-30 23:21:59 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-30 23:21:59 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
2026-01-30 23:21:59 - werkzeug - WARNING -  * Debugger is active!
2026-01-30 23:21:59 - werkzeug - INFO -  * Debugger PIN: 519-604-230
2026-01-30 23:22:03 - werkzeug - INFO - 127.0.0.1 - - [30/Jan/2026 23:22:03] "GET /health HTTP/1.1" 200 -
2026-01-30 23:22:10 - werkzeug - INFO - 127.0.0.1 - - [30/Jan/2026 23:22:10] "GET /health HTTP/1.1" 200 -
2026-01-30 23:26:43 - werkzeug - INFO -  * Detected change in '/workspaces/miyazaki_igaku_100words/points_normalizer.py', reloading
2026-01-30 23:26:43 - werkzeug - INFO -  * Restarting with stat
2026-01-30 23:26:45 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-30 23:26:45 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-30 23:26:45 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
2026-01-30 23:26:45 - werkzeug - WARNING -  * Debugger is active!
2026-01-30 23:26:45 - werkzeug - INFO -  * Debugger PIN: 519-604-230
2026-01-30 23:26:58 - werkzeug - INFO -  * Detected change in '/workspaces/miyazaki_igaku_100words/prompts_correction_respect.py', reloading
2026-01-30 23:26:58 - werkzeug - INFO -  * Restarting with stat
2026-01-30 23:26:59 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-30 23:26:59 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-30 23:26:59 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
2026-01-30 23:26:59 - werkzeug - WARNING -  * Debugger is active!
2026-01-30 23:26:59 - werkzeug - INFO -  * Debugger PIN: 519-604-230
2026-01-30 23:27:06 - database - INFO - Excluded themes: ['ã‚³ãƒ©ãƒ ', 'å­¦è¡“', 'å›³è¡¨', 'ç ”ç©¶ç´¹ä»‹', 'ãƒ¬ãƒ“ãƒ¥ãƒ¼', 'ãƒ–ãƒ­ã‚°', 'æ™‚äº‹']
2026-01-30 23:27:06 - llm_service - INFO - ç¿»è¨³å•é¡Œã‚’ç”Ÿæˆä¸­...
2026-01-30 23:27:06 - llm_service - INFO - ğŸ“Š ç›´è¿‘10å•ã®ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯: ['ã‚³ãƒ©ãƒ :C', 'å­¦è¡“:F', 'å›³è¡¨:C', 'ç ”ç©¶ç´¹ä»‹:D', 'å­¦è¡“:H', 'ãƒ¬ãƒ“ãƒ¥ãƒ¼:F', 'å›³è¡¨:E', 'ã‚³ãƒ©ãƒ :A', 'ãƒ–ãƒ­ã‚°:B', 'ç ”ç©¶ç´¹ä»‹:B']
2026-01-30 23:27:06 - llm_service - INFO - ğŸ“Š ç›´è¿‘30å•ã®åˆ†å¸ƒ: ã‚³ãƒ©ãƒ =16.7%, ãƒ–ãƒ­ã‚°=13.3%, ãƒ¬ãƒ“ãƒ¥ãƒ¼=10.0%, å›³è¡¨=13.3%, å­¦è¡“=13.3%, æ™‚äº‹=16.7%, ç ”ç©¶ç´¹ä»‹=16.7%
2026-01-30 23:27:06 - llm_service - INFO - ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ ãŒé¸æŠã—ãŸtheme: ã‚³ãƒ©ãƒ 
2026-01-30 23:27:06 - llm_service - INFO - ğŸ“Š ç›´è¿‘10å•ã®åˆ†å¸ƒ: P1_ONLY=20.0%, P2_P3=50.0%, P3_ONLY=30.0%, P4_P5=0.0%
2026-01-30 23:27:06 - llm_service - INFO - ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ ãŒé¸æŠã—ãŸexcerpt_type: P2_P3
2026-01-30 23:27:07 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2026-01-30 23:27:07 - openai._base_client - INFO - Retrying request to /chat/completions in 0.482358 seconds
2026-01-30 23:27:16 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-30 23:27:16 - llm_service - INFO - OpenAI API response (attempt 1): {
  "theme": "ã‚³ãƒ©ãƒ ",
  "topic_label": "B",
  "excerpt_type": "P2_P3",
  "japanese_paragraphs": [
    "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒæ™®åŠã—ãŸã“ã¨ã§ã€å®¶åº­å†…ã§ã®æ™‚é–“ç®¡ç†ãŒé‡è¦åº¦ã‚’å¢—ã—ã¦ã„ã‚‹ã€‚ä¸€æ–¹ã§ã€ä»•äº‹ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®å¢ƒç•ŒãŒæ›–æ˜§ã«ãªã‚Šã€ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã‚‹äººã‚‚å¢—ãˆã¦ã„ã‚‹ã€‚",
    "ãã®ãŸã‚ã€æ™‚é–“ç®¡ç†ã®ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Š...
2026-01-30 23:27:16 - llm_service - INFO - [DEBUG] Full LLM response for correction:
{
  "theme": "ã‚³ãƒ©ãƒ ",
  "topic_label": "B",
  "excerpt_type": "P2_P3",
  "japanese_paragraphs": [
    "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒæ™®åŠã—ãŸã“ã¨ã§ã€å®¶åº­å†…ã§ã®æ™‚é–“ç®¡ç†ãŒé‡è¦åº¦ã‚’å¢—ã—ã¦ã„ã‚‹ã€‚ä¸€æ–¹ã§ã€ä»•äº‹ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®å¢ƒç•ŒãŒæ›–æ˜§ã«ãªã‚Šã€ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã‚‹äººã‚‚å¢—ãˆã¦ã„ã‚‹ã€‚",
    "ãã®ãŸã‚ã€æ™‚é–“ç®¡ç†ã®ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«ã€æ—¥ã€…ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ˜ç¢ºã«ã—ã€ä¼‘æ†©æ™‚é–“ã‚’ç©æ¥µçš„ã«è¨­ã‘ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã€‚ã¾ãŸã€å®¶æ—ã‚„åŒåƒšã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å††æ»‘ã«ã™ã‚‹åŠªåŠ›ã‚‚å¿…è¦ã§ã‚ã‚‹ã€‚"
  ],
  "hints": [
    {"en": "remote work", "ja": "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯", "kana": "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯", "pos": "åè©", "usage": "Remote work allows flexibilityã€Œãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ã¯æŸ”è»Ÿæ€§ã‚’å¯èƒ½ã«ã™ã‚‹ã€"},
    {"en": "time management", "ja": "æ™‚é–“ç®¡ç†", "kana": "ã‚¿ã‚¤ãƒ ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ", "pos": "åè©", "usage": "Effective time management reduces stressã€ŒåŠ¹æœçš„ãªæ™‚é–“ç®¡ç†ã¯ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ¸›ã‚‰ã™ã€"},
    {"en": "boundary", "ja": "å¢ƒç•Œ", "kana": "ãƒã‚¦ãƒ³ãƒ€ãƒªãƒ¼", "pos": "åè©", "usage": "The boundary between work and lifeã€Œä»•äº‹ã¨ç”Ÿæ´»ã®å¢ƒç•Œã€"},
    {"en": "stress", "ja": "ã‚¹ãƒˆãƒ¬ã‚¹", "kana": "ã‚¹ãƒˆãƒ¬ã‚¹", "pos": "åè©", "usage": "Stress can affect healthã€Œã‚¹ãƒˆãƒ¬ã‚¹ã¯å¥åº·ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã€"},
    {"en": "communication", "ja": "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³", "kana": "ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³", "pos": "åè©", "usage": "Effective communication is keyã€ŒåŠ¹æœçš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒéµã§ã‚ã‚‹ã€"}
  ],
  "target_words": {"min": 100, "max": 120}
}
2026-01-30 23:27:16 - llm_service - INFO - Cleaned JSON (attempt 1): {
  "theme": "ã‚³ãƒ©ãƒ ",
  "topic_label": "B",
  "excerpt_type": "P2_P3",
  "japanese_paragraphs": [
    "ãƒªãƒ¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ãŒæ™®åŠã—ãŸã“ã¨ã§ã€å®¶åº­å†…ã§ã®æ™‚é–“ç®¡ç†ãŒé‡è¦åº¦ã‚’å¢—ã—ã¦ã„ã‚‹ã€‚ä¸€æ–¹ã§ã€ä»•äº‹ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®å¢ƒç•ŒãŒæ›–æ˜§ã«ãªã‚Šã€ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã‚‹äººã‚‚å¢—ãˆã¦ã„ã‚‹ã€‚",
    "ãã®ãŸã‚ã€æ™‚é–“ç®¡ç†ã®ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«ã€æ—¥ã€…ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ˜ç¢ºã«ã—ã€ä¼‘æ†©æ™‚é–“ã‚’ç©æ¥µçš„ã«è¨­ã‘ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã€‚ã¾ãŸã€å®¶æ—ã‚„åŒåƒšã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å††æ»‘ã«ã™ã‚‹åŠªåŠ›ã‚‚å¿…è¦ã§ã‚ã‚‹ã€‚"
  ],
  "hints": [
 ...
2026-01-30 23:27:16 - llm_service - INFO - âœ… excerpt_typeæ¤œè¨¼æˆåŠŸ: P2_P3
2026-01-30 23:27:16 - llm_service - INFO - âœ… themeæ¤œè¨¼æˆåŠŸ: ã‚³ãƒ©ãƒ 
2026-01-30 23:27:16 - llm_service - INFO - Successfully generated question: ã‚³ãƒ©ãƒ , excerpt_type: P2_P3
2026-01-30 23:27:16 - database - INFO - Question saved: q_20260130_d698190d - ã‚³ãƒ©ãƒ  (P2_P3)
2026-01-30 23:27:16 - database - INFO - Theme recorded: ã‚³ãƒ©ãƒ  (mode: general)
2026-01-30 23:27:16 - werkzeug - INFO - 127.0.0.1 - - [30/Jan/2026 23:27:16] "POST /api/question HTTP/1.1" 200 -
2026-01-30 23:27:17 - werkzeug - INFO -  * Detected change in '/workspaces/miyazaki_igaku_100words/prompts_correction_respect.py', reloading
2026-01-30 23:27:17 - werkzeug - INFO -  * Restarting with stat
2026-01-30 23:27:18 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-30 23:27:18 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-30 23:27:18 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
2026-01-30 23:27:18 - werkzeug - WARNING -  * Debugger is active!
2026-01-30 23:27:18 - werkzeug - INFO -  * Debugger PIN: 519-604-230
