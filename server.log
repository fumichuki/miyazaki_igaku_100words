nohup: ignoring input
2026-01-31 00:15:11 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-31 00:15:11 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-31 00:15:11 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
 * Serving Flask app 'app'
 * Debug mode: on
2026-01-31 00:15:11 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8001
 * Running on http://10.0.10.26:8001
2026-01-31 00:15:11 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2026-01-31 00:15:11 - werkzeug - INFO -  * Restarting with stat
2026-01-31 00:15:11 - __main__ - INFO - ğŸš€ ã¿ã‚„å¡¾ã€€è‹±ä½œæ–‡ç‰¹è¨“è¬›åº§ã€€å®®å´å¤§å­¦åŒ»å­¦éƒ¨ï¼ˆå’Œæ–‡è‹±è¨³ï¼‰ v3.0.0 èµ·å‹•: http://localhost:8001
2026-01-31 00:15:11 - __main__ - INFO - ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: data/miyazaki_igaku_eisakubun.db
2026-01-31 00:15:11 - __main__ - INFO - ğŸ¯ æœ‰åŠ¹æ©Ÿèƒ½: 4/4
2026-01-31 00:15:11 - werkzeug - WARNING -  * Debugger is active!
2026-01-31 00:15:11 - werkzeug - INFO -  * Debugger PIN: 519-604-230
2026-01-31 00:15:18 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:15:18] "GET /health HTTP/1.1" 200 -
2026-01-31 00:15:25 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:15:25] "GET /health HTTP/1.1" 200 -
2026-01-31 00:15:52 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:15:52] "GET / HTTP/1.1" 200 -
2026-01-31 00:15:52 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:15:52] "[36mGET /static/style.css?v=20260121m HTTP/1.1[0m" 304 -
2026-01-31 00:15:52 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:15:52] "GET /static/main.js?v=20260121N HTTP/1.1" 200 -
2026-01-31 00:15:52 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:15:52] "[36mGET /static/textarea-resize.png HTTP/1.1[0m" 304 -
2026-01-31 00:15:53 - database - INFO - Excluded themes: ['å­¦è¡“', 'ã‚³ãƒ©ãƒ ', 'ãƒ–ãƒ­ã‚°', 'å›³è¡¨', 'ç ”ç©¶ç´¹ä»‹', 'ãƒ¬ãƒ“ãƒ¥ãƒ¼', 'æ™‚äº‹']
2026-01-31 00:15:53 - llm_service - INFO - ç¿»è¨³å•é¡Œã‚’ç”Ÿæˆä¸­...
2026-01-31 00:15:53 - llm_service - INFO - ğŸ“Š ç›´è¿‘10å•ã®ã‚µãƒ–ãƒˆãƒ”ãƒƒã‚¯: ['å­¦è¡“:E', 'ã‚³ãƒ©ãƒ :E', 'ãƒ–ãƒ­ã‚°:A', 'å­¦è¡“:B', 'å­¦è¡“:D', 'ã‚³ãƒ©ãƒ :C', 'ã‚³ãƒ©ãƒ :C', 'å­¦è¡“:F', 'å›³è¡¨:C', 'ç ”ç©¶ç´¹ä»‹:D']
2026-01-31 00:15:53 - llm_service - INFO - ğŸ“Š ç›´è¿‘30å•ã®åˆ†å¸ƒ: ã‚³ãƒ©ãƒ =16.7%, ãƒ–ãƒ­ã‚°=13.3%, ãƒ¬ãƒ“ãƒ¥ãƒ¼=10.0%, å›³è¡¨=13.3%, å­¦è¡“=23.3%, æ™‚äº‹=13.3%, ç ”ç©¶ç´¹ä»‹=10.0%
2026-01-31 00:15:53 - llm_service - INFO - ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ ãŒé¸æŠã—ãŸtheme: å­¦è¡“
2026-01-31 00:15:53 - llm_service - INFO - ğŸ“Š ç›´è¿‘10å•ã®åˆ†å¸ƒ: P1_ONLY=10.0%, P2_P3=70.0%, P3_ONLY=20.0%, P4_P5=0.0%
2026-01-31 00:15:53 - llm_service - INFO - ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ ãŒé¸æŠã—ãŸexcerpt_type: P1_ONLY
2026-01-31 00:16:04 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2026-01-31 00:16:04 - llm_service - INFO - OpenAI API response (attempt 1): {
  "theme": "å­¦è¡“",
  "topic_label": "C",
  "excerpt_type": "P1_ONLY",
  "japanese_paragraphs": [
    "ç¡çœ ä¸è¶³ã¯ç¾ä»£ç¤¾ä¼šã§å¤šãã®äººã€…ãŒæŠ±ãˆã‚‹å•é¡Œã§ã‚ã‚Šã€ç‰¹ã«è‹¥è€…ã«ãŠã„ã¦å­¦æ¥­æˆç¸¾ã‚„é›†ä¸­åŠ›ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãŒç ”ç©¶ã«ã‚ˆã£ã¦ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚ã‚ã‚‹èª¿æŸ»ã«ã‚ˆã‚‹ã¨ã€ååˆ†ãªç¡çœ ã‚’ã¨ã‚‹ã“ã¨ãŒã§ããªã„å­¦ç”Ÿã¯ã€ãƒ†ã‚¹ãƒˆã®æˆç¸¾...
2026-01-31 00:16:04 - llm_service - INFO - [DEBUG] Full LLM response for correction:
{
  "theme": "å­¦è¡“",
  "topic_label": "C",
  "excerpt_type": "P1_ONLY",
  "japanese_paragraphs": [
    "ç¡çœ ä¸è¶³ã¯ç¾ä»£ç¤¾ä¼šã§å¤šãã®äººã€…ãŒæŠ±ãˆã‚‹å•é¡Œã§ã‚ã‚Šã€ç‰¹ã«è‹¥è€…ã«ãŠã„ã¦å­¦æ¥­æˆç¸¾ã‚„é›†ä¸­åŠ›ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãŒç ”ç©¶ã«ã‚ˆã£ã¦ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚ã‚ã‚‹èª¿æŸ»ã«ã‚ˆã‚‹ã¨ã€ååˆ†ãªç¡çœ ã‚’ã¨ã‚‹ã“ã¨ãŒã§ããªã„å­¦ç”Ÿã¯ã€ãƒ†ã‚¹ãƒˆã®æˆç¸¾ãŒä½ä¸‹ã—ã‚„ã™ã„ã¨ã„ã†çµæœãŒå¾—ã‚‰ã‚ŒãŸã€‚"
  ],
  "hints": [
    {"en": "sleep deprivation", "ja": "ç¡çœ ä¸è¶³", "kana": "ã‚¹ãƒªãƒ¼ãƒ— ãƒ‡ã‚£ãƒ—ãƒªãƒ™ãƒ¼ã‚·ãƒ§ãƒ³", "pos": "åè©", "usage": "Sleep deprivation affects cognitive functions.ã€Œç¡çœ ä¸è¶³ã¯èªçŸ¥æ©Ÿèƒ½ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã€‚ã€"},
    {"en": "concentration", "ja": "é›†ä¸­åŠ›", "kana": "ã‚³ãƒ³ã‚»ãƒ³ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³", "pos": "åè©", "usage": "Lack of sleep impairs concentration.ã€Œç¡çœ ä¸è¶³ã¯é›†ä¸­åŠ›ã‚’æãªã†ã€‚ã€"},
    {"en": "academic performance", "ja": "å­¦æ¥­æˆç¸¾", "kana": "ã‚¢ã‚«ãƒ‡ãƒŸãƒƒã‚¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹", "pos": "åè©", "usage": "Good sleep enhances academic performance.ã€Œè‰¯ã„ç¡çœ ã¯å­¦æ¥­æˆç¸¾ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚ã€"},
    {"en": "survey", "ja": "èª¿æŸ»", "kana": "ã‚µãƒ¼ãƒ™ã‚¤", "pos": "åè©", "usage": "A recent survey highlights this issue.ã€Œæœ€è¿‘ã®èª¿æŸ»ãŒã“ã®å•é¡Œã‚’æµ®ãå½«ã‚Šã«ã—ã¦ã„ã‚‹ã€‚ã€"},
    {"en": "students", "ja": "å­¦ç”Ÿ", "kana": "ã‚¹ãƒãƒ¥ãƒ¼ãƒ‡ãƒ³ãƒ„", "pos": "åè©", "usage": "Students need adequate rest to perform well.ã€Œå­¦ç”Ÿã¯è‰¯ã„æˆç¸¾ã‚’åã‚ã‚‹ãŸã‚ã«ååˆ†ãªä¼‘æ¯ãŒå¿…è¦ã ã€‚ã€"}
  ],
  "target_words": {"min": 100, "max": 120}
}
2026-01-31 00:16:04 - llm_service - INFO - Cleaned JSON (attempt 1): {
  "theme": "å­¦è¡“",
  "topic_label": "C",
  "excerpt_type": "P1_ONLY",
  "japanese_paragraphs": [
    "ç¡çœ ä¸è¶³ã¯ç¾ä»£ç¤¾ä¼šã§å¤šãã®äººã€…ãŒæŠ±ãˆã‚‹å•é¡Œã§ã‚ã‚Šã€ç‰¹ã«è‹¥è€…ã«ãŠã„ã¦å­¦æ¥­æˆç¸¾ã‚„é›†ä¸­åŠ›ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãŒç ”ç©¶ã«ã‚ˆã£ã¦ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚ã‚ã‚‹èª¿æŸ»ã«ã‚ˆã‚‹ã¨ã€ååˆ†ãªç¡çœ ã‚’ã¨ã‚‹ã“ã¨ãŒã§ããªã„å­¦ç”Ÿã¯ã€ãƒ†ã‚¹ãƒˆã®æˆç¸¾ãŒä½ä¸‹ã—ã‚„ã™ã„ã¨ã„ã†çµæœãŒå¾—ã‚‰ã‚ŒãŸã€‚"
  ],
  "hints": [
    {"en": "sleep deprivation", "ja": "ç¡çœ ä¸è¶³", "kana": "ã‚¹ãƒªãƒ¼ãƒ— ãƒ‡ã‚£...
2026-01-31 00:16:04 - llm_service - INFO - âœ… excerpt_typeæ¤œè¨¼æˆåŠŸ: P1_ONLY
2026-01-31 00:16:04 - llm_service - INFO - âœ… themeæ¤œè¨¼æˆåŠŸ: å­¦è¡“
2026-01-31 00:16:04 - llm_service - INFO - Successfully generated question: å­¦è¡“, excerpt_type: P1_ONLY
2026-01-31 00:16:04 - database - INFO - Question saved: q_20260131_388a4aca - å­¦è¡“ (P1_ONLY)
2026-01-31 00:16:04 - database - INFO - Theme recorded: å­¦è¡“ (mode: general)
2026-01-31 00:16:04 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:16:04] "POST /api/question HTTP/1.1" 200 -
2026-01-31 00:16:16 - __main__ - ERROR - Validation error: 1 validation error for SubmissionRequest
user_answer
  String should have at least 10 characters [type=string_too_short, input_value='a.\na.', input_type=str]
    For further information visit https://errors.pydantic.dev/2.10/v/string_too_short
2026-01-31 00:16:16 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:16:16] "[31m[1mPOST /api/correct-multi HTTP/1.1[0m" 400 -
2026-01-31 00:16:20 - __main__ - ERROR - Validation error: 1 validation error for SubmissionRequest
user_answer
  String should have at least 10 characters [type=string_too_short, input_value='a.\na.', input_type=str]
    For further information visit https://errors.pydantic.dev/2.10/v/string_too_short
2026-01-31 00:16:20 - werkzeug - INFO - 127.0.0.1 - - [31/Jan/2026 00:16:20] "[31m[1mPOST /api/correct-multi HTTP/1.1[0m" 400 -
